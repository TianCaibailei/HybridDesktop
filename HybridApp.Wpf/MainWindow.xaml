<Window x:Class="HybridApp.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HybridApp.Wpf"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="Hybrid App Host - Core Framework" Height="700" Width="1100"
        Background="#F5F5F7"
        Loaded="Window_Loaded">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="320" />
        </Grid.ColumnDefinitions>

        <!--{/* WebView on the left */}-->
        <Border Grid.Column="0" Margin="10" BorderThickness="1" BorderBrush="#DDD" CornerRadius="8" Background="White">
            <wv2:WebView2 Name="webView" />
        </Border>

        <!--{/* C# Native Panel on the right */}-->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="15">
                <TextBlock Text="Native Controller (C#)" FontSize="22" FontWeight="ExtraBold" Foreground="#333" Margin="0,0,0,20" />

                <!--{/* Vision Panel */}-->
                <Border BorderThickness="1" BorderBrush="#CCC" CornerRadius="5" Background="White" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="VISION MODULE" FontSize="14" FontWeight="Bold" Foreground="#0078D4" Margin="0,0,0,10" />
                        
                        <TextBlock Text="Exposure Time (ms)" Margin="0,5,0,2" Foreground="#666" />
                        <DockPanel>
                            <Slider Minimum="0" Maximum="100" Value="{Binding Vision.Exposure, Mode=TwoWay}" VerticalAlignment="Center" DockPanel.Dock="Left" Width="180" />
                            <TextBlock Text="{Binding Vision.Exposure}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0,0,0" />
                        </DockPanel>

                        <TextBlock Text="Analog Gain" Margin="0,15,0,2" Foreground="#666" />
                        <DockPanel>
                            <Slider Minimum="1.0" Maximum="10.0" Value="{Binding Vision.Gain, Mode=TwoWay}" VerticalAlignment="Center" Width="180" />
                            <TextBlock Text="{Binding Vision.Gain, StringFormat=F1}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0,0,0" />
                        </DockPanel>

                        <CheckBox Content="Enable Processing" IsChecked="{Binding Vision.IsRunning, Mode=TwoWay}" Margin="0,15,0,0" FontWeight="SemiBold" />
                    </StackPanel>
                </Border>

                <!--{/* Complex Data Panel */}-->
                <Border BorderThickness="4,1,1,1" BorderBrush="#FF9800" CornerRadius="5" Background="White" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="DEVICE CONFIG (Complex)" FontSize="14" FontWeight="Bold" Foreground="#FF9800" Margin="0,0,0,10" />
                        
                        <TextBlock Text="Model Name" Foreground="#666" />
                        <TextBox Text="{Binding Complex.Config.ModelName, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Padding="5" Margin="0,2,0,10" />

                        <TextBlock Text="Calibration X" Foreground="#666" />
                        <TextBox Text="{Binding Complex.Config.InternalCamera.ResolutionX, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Padding="5" Margin="0,2,0,10" />

                        <TextBlock Text="Calibration Y" Foreground="#666" />
                        <TextBox Text="{Binding Complex.Config.InternalCamera.ResolutionY, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Padding="5" Margin="0,2,0,0" />
                        
                        <TextBlock Text="Modes Count:" FontSize="11" Margin="0,10,0,0" />
                        <TextBlock Text="{Binding Complex.Config.InternalCamera.SupportedModes.Count, StringFormat='Active Modes: {0}'}" FontWeight="SemiBold" />
                    </StackPanel>
                </Border>

                <!--{/* Action Tools */}-->
                <Border BorderThickness="1" BorderBrush="#CCC" CornerRadius="5" Background="White" Padding="15">
                    <StackPanel>
                        <TextBlock Text="SYSTEM TOOLS" FontSize="14" FontWeight="Bold" Foreground="#666" Margin="0,0,0,10" />
                        <Button Content="Initialize Oscilloscope" Click="Button_Click" Height="35" Background="#0078D4" Foreground="White" FontWeight="Bold" BorderThickness="0">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="4"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
